### ===================================================================
### Next Page API Test Suite
### ===================================================================
### ì´ íŒŒì¼ì€ Next Page í”„ë¡œì íŠ¸ì˜ ëª¨ë“  APIë¥¼ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
### IntelliJ IDEA HTTP Clientì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
### ===================================================================
###
### ğŸ“Œ ì‚¬ìš© ë°©ë²• (ìë™ í† í°):
### 1. ë¨¼ì € 1-1(íšŒì›ê°€ì…) ì‹¤í–‰í•˜ì—¬ ê³„ì • ìƒì„±
### 2. 1-4(ë¡œê·¸ì¸) ì‹¤í–‰ â†’ í† í°ì´ ìë™ìœ¼ë¡œ ì €ì¥ë¨
### 3. ì´í›„ ì¸ì¦ì´ í•„ìš”í•œ API ë°”ë¡œ ì‹¤í–‰ ê°€ëŠ¥!
### 4. 1-8~1-11ë¡œ ì‹¤ì‹œê°„ ì¤‘ë³µ ê²€ì¦ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥
###
### âš ï¸ ìë™ ì €ì¥ì´ ì•ˆ ë˜ë©´? ì•„ë˜ ì£¼ì„ í•´ì œ í›„ í† í° ì§ì ‘ ì…ë ¥:
### @accessToken = ì—¬ê¸°ì—_í† í°_ë¶™ì—¬ë„£ê¸°
### ===================================================================

### í™˜ê²½ ë³€ìˆ˜
@baseUrl = http://localhost:8080


### ===================================================================
### 1. íšŒì› ì¸ì¦ (Auth) API
### ===================================================================

### ----------------------------------------
### 1-1. íšŒì›ê°€ì… (ì¼ë°˜ ì‚¬ìš©ì)
### ----------------------------------------
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "testuser@example.com",
"userPw": "password123!",
"userNicknm": "í…ŒìŠ¤íŠ¸ìœ ì €"
}

### ----------------------------------------
### 1-2. íšŒì›ê°€ì… (ë‹‰ë„¤ì„ ë‹¤ë¥¸ ì‚¬ìš©ì)
### ----------------------------------------
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "testuser2@example.com",
"userPw": "password123!",
"userNicknm": "í…ŒìŠ¤íŠ¸ìœ ì €2"
}

### ----------------------------------------
### 1-3. ê´€ë¦¬ì ê³„ì • ìƒì„±
### ----------------------------------------
POST {{baseUrl}}/api/auth/admin
Content-Type: application/json

{
"userEmail": "admin@example.com",
"userPw": "adminpassword123!",
"userNicknm": "ê´€ë¦¬ì"
}

### ----------------------------------------
### 1-4. ë¡œê·¸ì¸ (ì¼ë°˜ ì‚¬ìš©ì) - í† í° ë°œê¸‰
### ----------------------------------------
# @name login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "testuser@example.com",
"userPw": "password123!"
}

> {%
client.global.set("accessToken", response.body.data.accessToken);
client.global.set("refreshToken", response.body.data.refreshToken);
%}



### ----------------------------------------
### 1-5. ë¡œê·¸ì¸ (ê´€ë¦¬ì)
### ----------------------------------------
# @name adminLogin
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "admin@example.com",
"userPw": "adminpassword123!"
}

> {%
client.global.set("adminAccessToken", response.body.data.accessToken);
%}

### ----------------------------------------
### 1-6. í† í° ê°±ì‹ 
### ----------------------------------------
POST {{baseUrl}}/api/auth/refresh
Content-Type: application/json
Cookie: refreshToken={{refreshToken}}

### ----------------------------------------
### 1-7. ë¡œê·¸ì•„ì›ƒ
### ----------------------------------------
POST {{baseUrl}}/api/auth/logout
Content-Type: application/json
Cookie: refreshToken={{refreshToken}}

### ----------------------------------------
### 1-8. ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
### ----------------------------------------
GET {{baseUrl}}/api/auth/check-email?email=testuser@example.com

### ----------------------------------------
### 1-9. ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ (ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼)
### ----------------------------------------
GET {{baseUrl}}/api/auth/check-email?email=available@example.com

### ----------------------------------------
### 1-10. ë‹‰ë„¤ì„ ì¤‘ë³µ í™•ì¸
### ----------------------------------------
GET {{baseUrl}}/api/auth/check-nickname?nickname=í…ŒìŠ¤íŠ¸ìœ ì €

### ----------------------------------------
### 1-11. ë‹‰ë„¤ì„ ì¤‘ë³µ í™•ì¸ (ì‚¬ìš© ê°€ëŠ¥í•œ ë‹‰ë„¤ì„)
### ----------------------------------------
GET {{baseUrl}}/api/auth/check-nickname?nickname=ì‚¬ìš©ê°€ëŠ¥ë‹‰ë„¤ì„

### ----------------------------------------
### 1-12. íšŒì› íƒˆí‡´
### ----------------------------------------
DELETE {{baseUrl}}/api/auth/withdraw
Authorization: Bearer {{accessToken}}

### ===================================================================
### 2. íšŒì› (Member) Query API
### ===================================================================

### ----------------------------------------
### 2-1. ë§ˆì´í˜ì´ì§€ ì¡°íšŒ (ë‚´ ì •ë³´)
### ----------------------------------------
# @no-cookie-jar
GET {{baseUrl}}/api/members/me
Authorization: Bearer {{accessToken}}

### ===================================================================
### 3. ì†Œì„¤ (Book) Command API
### ===================================================================

### ----------------------------------------
### 3-1. ì†Œì„¤ ìƒì„±
### ----------------------------------------
# @name createBook
POST {{baseUrl}}/api/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"title": "ì‹ ë¹„í•œ ë§ˆë²•ì˜ ì„¸ê³„",
"categoryId": "1",
"maxSequence": 100,
"firstSentence": "ì–´ë‘ìš´ ìˆ² ì†, ì‘ì€ ë¶ˆë¹› í•˜ë‚˜ê°€ ê¹œë¹¡ì´ê³  ìˆì—ˆë‹¤. ê·¸ê²ƒì€ ë§ˆë²•ì‚¬ì˜ ì§‘ì—ì„œ í˜ëŸ¬ë‚˜ì˜¤ëŠ” í¬ë¯¸í•œ ë¹›ì´ì—ˆë‹¤."
}

> {%
client.global.set("createdBookId", response.body.data);
%}

### ----------------------------------------
### 3-2. ì†Œì„¤ ìƒì„± (ì œëª© ì—†ìŒ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"title": "",
"categoryId": "1",
"maxSequence": 50,
"firstSentence": "í…ŒìŠ¤íŠ¸ ì²« ë¬¸ì¥ì…ë‹ˆë‹¤."
}

### ----------------------------------------
### 3-3. ì†Œì„¤ ìƒì„± (ë¡œë§¨ìŠ¤ ì¹´í…Œê³ ë¦¬)
### ----------------------------------------
POST {{baseUrl}}/api/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"title": "ìš°ì—°íˆ ë§Œë‚œ ê·¸ëŒ€",
"categoryId": "2",
"maxSequence": 50,
"firstSentence": "ë¹„ ì˜¤ëŠ” ì¹´í˜ì—ì„œ ê·¸ë…€ë¥¼ ì²˜ìŒ ë§Œë‚¬ë‹¤. ê·¸ë…€ëŠ” ì°½ê°€ì— ì•‰ì•„ ë¹—ë°©ìš¸ì„ ë°”ë¼ë³´ê³  ìˆì—ˆë‹¤."
}

### ----------------------------------------
### 3-4. ì†Œì„¤ ìƒì„± (ìŠ¤ë¦´ëŸ¬ ì¹´í…Œê³ ë¦¬)
### ----------------------------------------
POST {{baseUrl}}/api/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"title": "ì‚¬ë¼ì§„ ì¦ê±°",
"categoryId": "3",
"maxSequence": 80,
"firstSentence": "ê²€ì‚¬ì‹¤ì— ë„ì°©í–ˆì„ ë•Œ, í•µì‹¬ ì¦ê±°ê°€ ì‚¬ë¼ì§„ ê²ƒì„ ë°œê²¬í–ˆë‹¤. ëª¨ë“  CCTVëŠ” ì˜ë¬¸ì˜ 30ë¶„ê°„ ë…¹í™”ê°€ ì¤‘ë‹¨ë˜ì–´ ìˆì—ˆë‹¤."
}

### ----------------------------------------
### 3-5. ë¬¸ì¥ ì´ì–´ì“°ê¸°
### ----------------------------------------
# @name appendSentence
POST {{baseUrl}}/api/books/{{createdBookId}}/sentences
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "ê·¸ ë¹›ì„ ë”°ë¼ ìˆ²ì„ í—¤ì¹˜ê³  ë“¤ì–´ê°€ë‹ˆ, ì‘ì€ ì˜¤ë‘ë§‰ì´ ë‚˜íƒ€ë‚¬ë‹¤. ë¬¸ ì•ì—ëŠ” ê²€ì€ ê³ ì–‘ì´ í•œ ë§ˆë¦¬ê°€ ìš°ì•„í•˜ê²Œ ì•‰ì•„ ìˆì—ˆë‹¤."
}

> {%
client.global.set("sentenceId", response.body.data);
%}

### ----------------------------------------
### 3-6. ë¬¸ì¥ ì´ì–´ì“°ê¸° (ë‘ ë²ˆì§¸ ë¬¸ì¥)
### ----------------------------------------
POST {{baseUrl}}/api/books/{{createdBookId}}/sentences
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "ê³ ì–‘ì´ê°€ ë‚˜ë¥¼ ë³´ë”ë‹ˆ ë¬˜í•˜ê²Œ ì›ƒëŠ” ê²ƒ ê°™ì•˜ë‹¤. ê·¸ë¦¬ê³  ê°‘ìê¸° ì¸ê°„ì˜ ëª©ì†Œë¦¬ë¡œ ë§í–ˆë‹¤. 'ê¸°ë‹¤ë¦¬ê³  ìˆì—ˆì–´.'"
}

### ----------------------------------------
### 3-7. ë¬¸ì¥ ì´ì–´ì“°ê¸° (ë„ˆë¬´ ì§§ì€ ë¬¸ì¥ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/books/{{createdBookId}}/sentences
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "ì§§ì€ë¬¸ì¥"
}

### ----------------------------------------
### 3-8. ë¬¸ì¥ ì´ì–´ì“°ê¸° (ë¹ˆ ë¬¸ì¥ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/books/{{createdBookId}}/sentences
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": ""
}

### ----------------------------------------
### 3-9. ë¬¸ì¥ ì´ì–´ì“°ê¸° (ì¸ì¦ ì—†ì´ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/books/{{createdBookId}}/sentences
Content-Type: application/json

{
"content": "ì´ ë¬¸ì¥ì€ ì¸ì¦ ì—†ì´ ì‘ì„±í•˜ë ¤ê³  ì‹œë„í•˜ëŠ” í…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤. 401 ì—ëŸ¬ê°€ ë°œìƒí•´ì•¼ í•©ë‹ˆë‹¤."
}

### ===================================================================
### 4. ì†Œì„¤ (Book) Query API
### ===================================================================

### ----------------------------------------
### 4-1. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ê¸°ë³¸)
### ----------------------------------------
GET {{baseUrl}}/api/books

### ----------------------------------------
### 4-2. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§•)
### ----------------------------------------
GET {{baseUrl}}/api/books?page=0&size=10

### ----------------------------------------
### 4-3. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ì •ë ¬: ìµœì‹ ìˆœ)
### ----------------------------------------
GET {{baseUrl}}/api/books?page=0&size=10&sortBy=createdAt&sortOrder=desc

### ----------------------------------------
### 4-4. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ì •ë ¬: ì œëª©ìˆœ)
### ----------------------------------------
GET {{baseUrl}}/api/books?page=0&size=10&sortBy=title&sortOrder=asc

### ----------------------------------------
### 4-5. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ìƒíƒœ í•„í„°: ì§„í–‰ì¤‘)
### ----------------------------------------
GET {{baseUrl}}/api/books?status=IN_PROGRESS

### ----------------------------------------
### 4-6. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ì¹´í…Œê³ ë¦¬ í•„í„°)
### ----------------------------------------
GET {{baseUrl}}/api/books?categoryId=1

### ----------------------------------------
### 4-7. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (í‚¤ì›Œë“œ ê²€ìƒ‰)
### ----------------------------------------
GET {{baseUrl}}/api/books?keyword=ë§ˆë²•

### ----------------------------------------
### 4-8. ì†Œì„¤ ëª©ë¡ ì¡°íšŒ (ë³µí•© í•„í„°)
### ----------------------------------------
GET {{baseUrl}}/api/books?page=0&size=10&sortBy=createdAt&sortOrder=desc&categoryId=1&keyword=ë§ˆë²•

### ----------------------------------------
### 4-9. ì†Œì„¤ ìƒì„¸ ì¡°íšŒ
### ----------------------------------------
GET {{baseUrl}}/api/books/{{createdBookId}}

### ----------------------------------------
### 4-10. ì†Œì„¤ ìƒì„¸ ì¡°íšŒ (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ID)
### ----------------------------------------
GET {{baseUrl}}/api/books/99999

### ----------------------------------------
### 4-11. ì†Œì„¤ ë·°ì–´ ëª¨ë“œ ì¡°íšŒ (ë¬¸ì¥ ëª©ë¡ í¬í•¨)
### ----------------------------------------
GET {{baseUrl}}/api/books/{{createdBookId}}/view

### ----------------------------------------
### 4-12. ì†Œì„¤ ìƒì„¸ ì¡°íšŒ (ID 1ë²ˆ)
### ----------------------------------------
GET {{baseUrl}}/api/books/1

### ----------------------------------------
### 4-13. ì†Œì„¤ ë·°ì–´ ëª¨ë“œ ì¡°íšŒ (ID 1ë²ˆ)
### ----------------------------------------
GET {{baseUrl}}/api/books/1/view

### ===================================================================
### 5. ë°˜ì‘ - ëŒ“ê¸€ (Comment) Command API
### ===================================================================

### ----------------------------------------
### 5-1. ëŒ“ê¸€ ì‘ì„±
### ----------------------------------------
# @name createComment
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": "ì •ë§ ì¬ë¯¸ìˆëŠ” ì†Œì„¤ì´ë„¤ìš”! ë‹¤ìŒ ì „ê°œê°€ ê¸°ëŒ€ë©ë‹ˆë‹¤."
}

> {%
client.global.set("commentId", response.body.data);
%}

### ----------------------------------------
### 5-2. ëŒ“ê¸€ ì‘ì„± (createdBookId ì‚¬ìš©)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": {{createdBookId}},
"content": "ì´ ì†Œì„¤ì˜ ë¶„ìœ„ê¸°ê°€ ì •ë§ ì¢‹ìŠµë‹ˆë‹¤. ëª°ì…ê°ì´ ë›°ì–´ë‚˜ìš”."
}

### ----------------------------------------
### 5-3. ëŒ“ê¸€ ì‘ì„± (500ì ì œí•œ í…ŒìŠ¤íŠ¸)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": "ì´ ì†Œì„¤ì€ ì •ë§ í¥ë¯¸ì§„ì§„í•©ë‹ˆë‹¤. ìºë¦­í„° ë¬˜ì‚¬ê°€ ìƒìƒí•˜ê³  ìŠ¤í† ë¦¬ ì „ê°œë„ íƒ„íƒ„í•©ë‹ˆë‹¤. íŠ¹íˆ ì£¼ì¸ê³µì˜ ë‚´ë©´ ê°ˆë“±ì´ ì˜ í‘œí˜„ë˜ì–´ ìˆì–´ì„œ ê°ì •ì´ì…ì´ ì‰½ê²Œ ë©ë‹ˆë‹¤."
}

### ----------------------------------------
### 5-4. ëŒ“ê¸€ ì‘ì„± (ë¹ˆ ë‚´ìš© - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": ""
}

### ----------------------------------------
### 5-5. ëŒ“ê¸€ ì‘ì„± (bookId ëˆ„ë½ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "bookId ì—†ì´ ì‘ì„± ì‹œë„"
}

### ----------------------------------------
### 5-6. ëŒ“ê¸€ ìˆ˜ì •
### ----------------------------------------
PATCH {{baseUrl}}/api/reactions/comments/{{commentId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "ëŒ“ê¸€ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì •ë§ í›Œë¥­í•œ ì†Œì„¤ì…ë‹ˆë‹¤!"
}

### ----------------------------------------
### 5-7. ëŒ“ê¸€ ìˆ˜ì • (ID 1ë²ˆ)
### ----------------------------------------
PATCH {{baseUrl}}/api/reactions/comments/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": "ìˆ˜ì •ëœ ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì½ì–´ë´ë„ ì¬ë¯¸ìˆë„¤ìš”."
}

### ----------------------------------------
### 5-8. ëŒ“ê¸€ ìˆ˜ì • (ë¹ˆ ë‚´ìš© - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
PATCH {{baseUrl}}/api/reactions/comments/{{commentId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"content": ""
}

### ----------------------------------------
### 5-9. ëŒ“ê¸€ ì‚­ì œ
### ----------------------------------------
DELETE {{baseUrl}}/api/reactions/comments/{{commentId}}
Authorization: Bearer {{accessToken}}

### ----------------------------------------
### 5-10. ëŒ€ëŒ“ê¸€(ë‹µê¸€) ì‘ì„±
### ----------------------------------------
# @name createReply
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": "ì²« ë²ˆì§¸ ëŒ“ê¸€ì— ëŒ€í•œ ë‹µê¸€ì…ë‹ˆë‹¤. ë™ê°í•©ë‹ˆë‹¤!",
"parentId": {{commentId}}
}

### ----------------------------------------
### 5-11. ëŒ€ëŒ“ê¸€(ë‹µê¸€) ì‘ì„± 2
### ----------------------------------------
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": "ì €ë„ ê·¸ë ‡ê²Œ ìƒê°í•´ìš”. ì‘ê°€ë‹˜ íŒŒì´íŒ…!",
"parentId": {{commentId}}
}

### ----------------------------------------
### 5-10. ëŒ“ê¸€ ì‚­ì œ (ID 1ë²ˆ)
### ----------------------------------------
DELETE {{baseUrl}}/api/reactions/comments/1
Authorization: Bearer {{accessToken}}

### ----------------------------------------
### 5-11. ëŒ“ê¸€ ì‚­ì œ (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ID - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
DELETE {{baseUrl}}/api/reactions/comments/99999
Authorization: Bearer {{accessToken}}

### ===================================================================
### 6. ë°˜ì‘ - ëŒ“ê¸€ (Comment) Query API
### ===================================================================

### ----------------------------------------
### 6-1. ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ (bookId 1ë²ˆ)
### ----------------------------------------
GET {{baseUrl}}/api/reactions/comments/1

### ----------------------------------------
### 6-2. ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ (createdBookId ì‚¬ìš©)
### ----------------------------------------
GET {{baseUrl}}/api/reactions/comments/{{createdBookId}}

### ----------------------------------------
### 6-3. ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì†Œì„¤)
### ----------------------------------------
GET {{baseUrl}}/api/reactions/comments/99999

### ===================================================================
### 7. ë°˜ì‘ - íˆ¬í‘œ (Vote) API
### ===================================================================

### ----------------------------------------
### 7-1. ì†Œì„¤ ì¢‹ì•„ìš” íˆ¬í‘œ
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"voteType": "LIKE"
}

### ----------------------------------------
### 7-2. ì†Œì„¤ ì‹«ì–´ìš” íˆ¬í‘œ
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"voteType": "DISLIKE"
}

### ----------------------------------------
### 7-3. ì†Œì„¤ ì¢‹ì•„ìš” íˆ¬í‘œ (createdBookId ì‚¬ìš©)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": {{createdBookId}},
"voteType": "LIKE"
}

### ----------------------------------------
### 7-4. ì†Œì„¤ íˆ¬í‘œ (voteType ëˆ„ë½ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/books
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1
}

### ----------------------------------------
### 7-5. ë¬¸ì¥ ì¢‹ì•„ìš” íˆ¬í‘œ
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/sentences/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"voteType": "LIKE"
}

### ----------------------------------------
### 7-6. ë¬¸ì¥ ì‹«ì–´ìš” íˆ¬í‘œ
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/sentences/1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"voteType": "DISLIKE"
}

### ----------------------------------------
### 7-7. ë¬¸ì¥ ì¢‹ì•„ìš” íˆ¬í‘œ (sentenceId ì‚¬ìš©)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/sentences/{{sentenceId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"voteType": "LIKE"
}

### ----------------------------------------
### 7-8. ë¬¸ì¥ íˆ¬í‘œ (ì¸ì¦ ì—†ì´ - ì—ëŸ¬ ì¼€ì´ìŠ¤)
### ----------------------------------------
POST {{baseUrl}}/api/reactions/votes/sentences/1
Content-Type: application/json

{
"voteType": "LIKE"
}

### ===================================================================
### 8. ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
### ===================================================================

### ----------------------------------------
### 8-1. ì˜ëª»ëœ ì´ë©”ì¼ í˜•ì‹ìœ¼ë¡œ íšŒì›ê°€ì…
### ----------------------------------------
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "invalid-email",
"userPw": "password123!",
"userNicknm": "í…ŒìŠ¤íŠ¸"
}

### ----------------------------------------
### 8-2. ì§§ì€ ë¹„ë°€ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…
### ----------------------------------------
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "short@example.com",
"userPw": "1234",
"userNicknm": "í…ŒìŠ¤íŠ¸"
}

### ----------------------------------------
### 8-3. ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸
### ----------------------------------------
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "testuser@example.com",
"userPw": "wrongpassword"
}

### ----------------------------------------
### 8-4. ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ (401 ì—ëŸ¬)
### ----------------------------------------
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "nonexistent@example.com",
"userPw": "password123!"
}

### ----------------------------------------
### 8-5. ë§Œë£Œëœ/ì˜ëª»ëœ í† í°ìœ¼ë¡œ API ìš”ì²­
### ----------------------------------------
GET {{baseUrl}}/api/members/me
Authorization: Bearer invalid.jwt.token

### ----------------------------------------
### 8-6. í† í° ì—†ì´ ì¸ì¦ í•„ìš” API ìš”ì²­
### ----------------------------------------
GET {{baseUrl}}/api/members/me

### ===================================================================
### 9. ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ (ìˆœì°¨ ì‹¤í–‰)
### ===================================================================

### ----------------------------------------
### ì‹œë‚˜ë¦¬ì˜¤: ì‹ ê·œ ì‚¬ìš©ì ì „ì²´ í”Œë¡œìš°
### ----------------------------------------

### 9-1. ìƒˆ ì‚¬ìš©ì íšŒì›ê°€ì…
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "newuser@example.com",
"userPw": "newpassword123!",
"userNicknm": "ìƒˆë¡œìš´ìœ ì €"
}

### 9-2. ìƒˆ ì‚¬ìš©ì ë¡œê·¸ì¸
# @name newUserLogin
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "newuser@example.com",
"userPw": "newpassword123!"
}

> {%
client.global.set("newUserToken", response.body.data.accessToken);
%}

### 9-3. ìƒˆ ì‚¬ìš©ì - ì†Œì„¤ ìƒì„±
# @name newUserBook
POST {{baseUrl}}/api/books
Authorization: Bearer {{newUserToken}}
Content-Type: application/json

{
"title": "ìƒˆë¡œìš´ ì‹œì‘",
"categoryId": "1",
"maxSequence": 30,
"firstSentence": "ëª¨ë“  ê²ƒì´ ì‹œì‘ë˜ëŠ” ìˆœê°„, ë‚˜ëŠ” ê·¸ ìë¦¬ì— ì„œ ìˆì—ˆë‹¤. í•˜ëŠ˜ì€ ë¶‰ê²Œ ë¬¼ë“¤ì–´ ìˆì—ˆê³ , ë°”ëŒì€ ì´ìƒí•˜ê²Œ ë”°ëœ»í–ˆë‹¤."
}

> {%
client.global.set("newUserBookId", response.body.data);
%}

### 9-4. ìƒˆ ì‚¬ìš©ì - ë¬¸ì¥ ì´ì–´ì“°ê¸°
POST {{baseUrl}}/api/books/{{newUserBookId}}/sentences
Authorization: Bearer {{newUserToken}}
Content-Type: application/json

{
"content": "ê·¸ ìˆœê°„, ì € ë©€ë¦¬ì„œ ì¢…ì†Œë¦¬ê°€ ìš¸ë ¤ í¼ì¡Œë‹¤. ë§ˆì¹˜ ë¬´ì–¸ê°€ ì‹œì‘ì„ ì•Œë¦¬ëŠ” ì‹ í˜¸ì²˜ëŸ¼ ë“¤ë ¸ë‹¤."
}

### 9-5. ìƒˆ ì‚¬ìš©ì - ëŒ“ê¸€ ì‘ì„±
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{newUserToken}}
Content-Type: application/json

{
"bookId": {{newUserBookId}},
"content": "ì²« ì‘í’ˆì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤! ë§ì€ ê´€ì‹¬ ë¶€íƒë“œë ¤ìš”~"
}

### 9-6. ìƒˆ ì‚¬ìš©ì - ë³¸ì¸ ì†Œì„¤ ì¢‹ì•„ìš”
POST {{baseUrl}}/api/reactions/votes/books
Authorization: Bearer {{newUserToken}}
Content-Type: application/json

{
"bookId": {{newUserBookId}},
"voteType": "LIKE"
}

### 9-7. ìƒˆ ì‚¬ìš©ì - ë§ˆì´í˜ì´ì§€ í™•ì¸
GET {{baseUrl}}/api/members/me
Authorization: Bearer {{newUserToken}}

### ===================================================================
### 10. ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
### ===================================================================
### ğŸ“Œ ê´€ë¦¬ìëŠ” ë‹¤ìŒ íŠ¹ê¶Œì„ ê°€ì§‘ë‹ˆë‹¤:
### - ë¬¸ì¥ ì—°ì† ì‘ì„± ê°€ëŠ¥ (ì—°ì† ì‘ì„± ì œí•œ ìš°íšŒ)
### - íƒ€ì¸ ëŒ“ê¸€ ì‚­ì œ ê°€ëŠ¥
### - íšŒì› ê°•ì œ íƒˆí‡´ ê°€ëŠ¥

### ----------------------------------------
### 10-1. ê´€ë¦¬ì ë¡œê·¸ì¸ (í† í° ë°œê¸‰)
### ----------------------------------------
# @name adminLogin
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
"userEmail": "admin@example.com",
"userPw": "adminpassword123!"
}

> {%
client.global.set("adminToken", response.body.data.accessToken);
%}

### ----------------------------------------
### 10-2. ê´€ë¦¬ì - ì†Œì„¤ ìƒì„±
### ----------------------------------------
# @name adminBook
POST {{baseUrl}}/api/books
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
"title": "ê´€ë¦¬ìê°€ ë§Œë“œëŠ” ì´ì•¼ê¸°",
"categoryId": "1",
"maxSequence": 50,
"firstSentence": "ê´€ë¦¬ìê°€ ì‹œì‘í•˜ëŠ” ì†Œì„¤ì…ë‹ˆë‹¤. ê´€ë¦¬ìëŠ” ì—°ì†ìœ¼ë¡œ ë¬¸ì¥ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
}

> {%
client.global.set("adminBookId", response.body.data);
%}

### ----------------------------------------
### 10-3. ê´€ë¦¬ì - ì—°ì† ë¬¸ì¥ ì‘ì„± (ì²« ë²ˆì§¸)
### ----------------------------------------
POST {{baseUrl}}/api/books/{{adminBookId}}/sentences
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
"content": "ê´€ë¦¬ìì˜ ì²« ë²ˆì§¸ ì¶”ê°€ ë¬¸ì¥ì…ë‹ˆë‹¤. ê´€ë¦¬ìëŠ” ì—°ì† ì‘ì„± ì œí•œì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤."
}

### ----------------------------------------
### 10-4. ê´€ë¦¬ì - ì—°ì† ë¬¸ì¥ ì‘ì„± (ë‘ ë²ˆì§¸) - ì—°ì† ì‘ì„± ì„±ê³µí•´ì•¼ í•¨!
### ----------------------------------------
POST {{baseUrl}}/api/books/{{adminBookId}}/sentences
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
"content": "ê´€ë¦¬ìì˜ ë‘ ë²ˆì§¸ ì—°ì† ë¬¸ì¥ì…ë‹ˆë‹¤. ì¼ë°˜ ì‚¬ìš©ìì˜€ë‹¤ë©´ ì—¬ê¸°ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²ƒì…ë‹ˆë‹¤."
}

### ----------------------------------------
### 10-5. ì¼ë°˜ ì‚¬ìš©ì - ëŒ“ê¸€ ì‘ì„± (ê´€ë¦¬ì ì‚­ì œ í…ŒìŠ¤íŠ¸ìš©)
### ----------------------------------------
# @name userCommentForAdminDelete
POST {{baseUrl}}/api/reactions/comments
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
"bookId": 1,
"content": "ì´ ëŒ“ê¸€ì€ ê´€ë¦¬ìì— ì˜í•´ ì‚­ì œë  ì˜ˆì •ì…ë‹ˆë‹¤."
}

> {%
client.global.set("commentToDelete", response.body.data);
%}

### ----------------------------------------
### 10-6. ê´€ë¦¬ì - íƒ€ì¸ ëŒ“ê¸€ ì‚­ì œ (ì„±ê³µí•´ì•¼ í•¨!)
### ----------------------------------------
DELETE {{baseUrl}}/api/reactions/comments/{{commentToDelete}}
Authorization: Bearer {{adminToken}}

### ----------------------------------------
### 10-7. íƒˆí‡´ í…ŒìŠ¤íŠ¸ìš© ì‚¬ìš©ì ìƒì„±
### ----------------------------------------
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
"userEmail": "tobedeleted@example.com",
"userPw": "password123!",
"userNicknm": "ì‚­ì œë ìœ ì €"
}

### ----------------------------------------
### 10-8. ê´€ë¦¬ì - íšŒì› ê°•ì œ íƒˆí‡´ (userId ì§€ì •)
### ----------------------------------------
### âš ï¸ {userId}ë¥¼ ì‹¤ì œ íƒˆí‡´ì‹œí‚¬ ì‚¬ìš©ì IDë¡œ ë³€ê²½í•˜ì„¸ìš”
DELETE {{baseUrl}}/api/auth/admin/users/5
Authorization: Bearer {{adminToken}}

### ----------------------------------------
### 10-9. ì¼ë°˜ ì‚¬ìš©ìê°€ íƒ€ì¸ íšŒì› íƒˆí‡´ ì‹œë„ (ì‹¤íŒ¨í•´ì•¼ í•¨ - 403)
### ----------------------------------------
DELETE {{baseUrl}}/api/auth/admin/users/1
Authorization: Bearer {{accessToken}}

### ===================================================================
### 11. ê¶Œí•œë³„ ê¸°ëŠ¥ ìš”ì•½
### ===================================================================
###
### | ê¸°ëŠ¥ | ë¹„íšŒì› | ì¼ë°˜ íšŒì› | ê´€ë¦¬ì |
### |------|--------|----------|--------|
### | ì†Œì„¤ ëª©ë¡/ìƒì„¸ ì¡°íšŒ | âœ… | âœ… | âœ… |
### | ì†Œì„¤ ìƒì„± | âŒ | âœ… | âœ… |
### | ë¬¸ì¥ ì´ì–´ì“°ê¸° | âŒ | âœ… | âœ… |
### | ë¬¸ì¥ ì—°ì† ì‘ì„± | âŒ | âŒ | âœ… |
### | ëŒ“ê¸€ ì‘ì„± | âŒ | âœ… | âœ… |
### | ë³¸ì¸ ëŒ“ê¸€ ìˆ˜ì •/ì‚­ì œ | âŒ | âœ… | âœ… |
### | íƒ€ì¸ ëŒ“ê¸€ ì‚­ì œ | âŒ | âŒ | âœ… |
### | íˆ¬í‘œ (ì¢‹ì•„ìš”/ì‹«ì–´ìš”) | âŒ | âœ… | âœ… |
### | ë§ˆì´í˜ì´ì§€ ì¡°íšŒ | âŒ | âœ… | âœ… |
### | ë³¸ì¸ íšŒì› íƒˆí‡´ | âŒ | âœ… | âœ… |
### | íšŒì› ê°•ì œ íƒˆí‡´ | âŒ | âŒ | âœ… |

### ===================================================================
### 12. í—¬ìŠ¤ì²´í¬ ë° ê¸°íƒ€
### ===================================================================

### ----------------------------------------
### 12-1. ì„œë²„ í—¬ìŠ¤ì²´í¬ (Actuator - ìˆë‹¤ë©´)
### ----------------------------------------
GET {{baseUrl}}/actuator/health

### ----------------------------------------
### 12-2. Swagger UI ì ‘ê·¼ í…ŒìŠ¤íŠ¸
### ----------------------------------------
GET {{baseUrl}}/swagger-ui.html

### ----------------------------------------
### 12-3. OpenAPI docs
### ----------------------------------------
GET {{baseUrl}}/v3/api-docs